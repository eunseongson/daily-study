# TCP/IP 를 활용한 Socket Chatting

### 주요 기능
- 로비에서 방 만들기

- 채팅방 입장

- 채팅방 별 채팅

- 채팅방 나가기

 

### 기술 스택
Java

### 새로 알게된 기술
Thread / Socket

 

#### Thread란?

프로세스(process)란 단순히 실행 중인 프로그램(program)이라고 할 수 있다.

즉, 사용자가 작성한 프로그램이 운영체제에 의해 메모리 공간을 할당받아 실행 중인 것을 말한다.

이러한 프로세스는 프로그램에 사용되는 데이터와 메모리 등의 자원 그리고 스레드로 구성된다.

 

스레드(thread)란 프로세스(process) 내에서 실제로 작업을 수행하는 주체를 의미한다.

모든 프로세스에는 한 개 이상의 스레드가 존재하여 작업을 수행한다.

또한, 두 개 이상의 스레드를 가지는 프로세스를 멀티스레드 프로세스(multi-threaded process)라고 한다.

 

#### Socket이란?

소켓이란 네트워크상에서 동작하는 프로그램 간 통신의 종착점. 즉, 프로그램이 네트워크에서 데이터를 통신할 수 있도록 해주는 연결부이다,

구현 기술
공통

- 클라이언트와 서버 데이터 통신을 하기 위해 String이 아닌 객체 형식으로 데이터 전송

BufferedReader / BufferedWriter 방식은 채팅방 내에서 메시지 전송할 때에만 쓰고

그 외(방 생성, 방 나가기, 방 리스트 불러오기...)의 코드들은 객체형식으로 Type값을 할당해줘서 메인서버에서 역할을 구분하여 처리를 해줌

 

### 서버

1. 9000 PORT를 활용하여 MainThread 동작 및 클라이언트 프로그램 접속 확인

2. 채팅방 생성 시 마다 9001번 부터 PORT++ 를 하면서 각 채팅방에 따른 포트 할당

3. 채팅 서버소켓에 접속하는 클라이언트를 확인하기 위한 ServerThread 동작

4. 채팅 서버소켓에 접속하여 채팅을 주고 받기 위한 ChatTread 동작

### 클라이언트

1. MainClass에서 ReadThreadClass 스레드 생성하여 방이 생성될 때 마다 감지하여 리스트를 최신화 시켜주었다.

2. 채팅방에 접속할 때 ReadThread 스레드를 생성하여 해당 스레드에 Socket과 ChatFrame을 넘겨주어 채팅방 화면에서 포트에 맞게 Socket을 활용하여 데이터를 Read할 수 있도록 하였다.

3. 채팅방에 접속하여 데이터를 입력하면 WriteClass 스레드에 Socket을 보내주어 채팅방 포트에 맞는 Socket에 채팅을 보내주도록 하였다.
